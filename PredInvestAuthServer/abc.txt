Сервис сокращения URL-ссылок

ЦЕЛЬ
Создание полноценного REST API сервиса для сокращения URL-адресов с возможностью деплоя на виртуальный сервер с использованием GitHub Actions.

СТЕК
HTTP-роутер:
Используется go-chi/chi для обработки HTTP-запросов

Логирование:
Применяется пакет slog для гибкого логирования с возможностью переключения между TextHandler для локальной разработки и JSONHandler для продакшена.

Тестирование:
Используются stretchr/testify для покрытия кода тестами, включая unit-тесты, тесты хэндлеров и функциональные тесты.

Конфигурация:
Применяется cleanenv для чтения конфигурационных файлов в различных форматах с поддержкой переменных окружения.

Хранение данных:
Выбран SQLite благодаря простоте использования и отсутствию необходимости в дополнительной установке СУБД.

СТРУКТУРА ПРОЕКТА
Конфигурация:
Файлы конфигурации хранятся в папке config в формате YAML. Используются структуры для анмаршалинга конфигурационных данных.

Логгер:
Настраивается с различными обработчиками в зависимости от окружения (локальное, разработка, продакшен). Добавляются общие поля для упрощения отладки.

Storage:
Реализован с использованием SQLite, включает методы SaveURL и GetURL для сохранения и получения URL-адресов. Обеспечивается уникальность алиасов и обработка ошибок.

HTTP Server:
Настраивается с использованием chi роутера и подключением различных middleware для логирования, обработки запросов и восстановления после паник. Реализованы хэндлеры для сохранения URL (Save) и перенаправления (Redirect).

Авторизация:
Добавлена HTTP Basic Auth для защиты хэндлеров сохранения и удаления URL. Креды берутся из конфигурации и хранятся безопасно через секреты GitHub Actions.

Тестирование:
Написаны unit-тесты с использованием моков для Storage. Функциональные тесты реализованы с помощью httpexpect и gofakeit для проверки полного функционала сервиса.

Деплой:
Автоматизирован с использованием GitHub Actions. Workflow включает сборку приложения, проверку тегов, деплой на виртуальный сервер, настройку окружения и перезапуск сервиса через systemd.

ФУНКЦИОНАЛ
Сокращение длинных URL(позволяет пользователям отправлять длинные URL-адреса и получать их сокращенные версии для удобства обмена и использования)

Перенаправление по сокращенному URL(при обращении к сокращенному URL происходит перенаправление пользователя на оригинальный длинный адрес)

Удаление сокращенных URL(предоставляет возможность удалять ранее созданные сокращенные ссылки)

Авторизация (защищает критические операции (создание и удаление сокращенных ссылок) с помощью HTTP Basic Auth, обеспечивая доступ только авторизованным пользователям)

РЕЗУЛЬТАТЫ
Разработан и успешно протестирован сервис, способный принимать запросы на сокращение URL, генерировать уникальные алиасы и перенаправлять пользователей по сокращенным ссылкам.